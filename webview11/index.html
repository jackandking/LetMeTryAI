<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- Previous head content remains the same -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI大模型排行榜</title>
    <meta name="baidu_union_verify" content="a474889f17de23d877149d511beb790d">
    <link rel="icon" href="/icons/favicon.ico" type="image/x-icon" />
    <script>
	    var _hmt = _hmt || [];
	    (function() {
		    var hm = document.createElement("script");
		    hm.src = "https://hm.baidu.com/hm.js?4ec6d2ddfd5746ce248a74a75c1d4fba";
		    var s = document.getElementsByTagName("script")[0];
		    s.parentNode.insertBefore(hm, s);
	    })();
    </script>
    <script src="../util.js"></script>
    <script>
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }
        window.platformFilter = getUrlParameter('platform');
        window.voteBudget = parseInt(getUrlParameter('budget')) || 1;
        window.canDelete = parseInt(getUrlParameter('delete')) || 0;
        window.onload = function() {
            var deleteButton = document.querySelector('.show-delete-form-btn');
            if (!window.canDelete) {
                deleteButton.style.display = 'none';  // 如果没有 canDelete 参数，隐藏按钮
            }
        };
    </script>
    <style>
        /* Previous styles remain the same */
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; margin: 0; }
        .container { max-width: 1000px; margin: 0 auto; background: #fff; padding: 20px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        h1 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
        th { cursor: pointer; background-color: #f9f9f9; }
        th:hover { background-color: #f1f1f1; }
        .vote-btn { margin: 0 2px; cursor: pointer; }
        .vote-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .upload-form, .delete-form { margin: 20px 0; padding: 20px; border: 1px solid #ddd; display: none; }
        .upload-form input, .upload-form button, .delete-form input, .delete-form button { margin: 5px 0; padding: 5px; }
        .show-form-btn { margin: 20px 0; padding: 10px; cursor: pointer; }
        @media (max-width: 600px) {
            .table-container { display: none; }
        }
        @media (min-width: 601px) {
            .list-container { display: none; }
        }
    </style>
</head>
<body>
    <!-- Previous HTML content remains the same until the form submission handler -->
    <div class="container">
        <h1>AI大模型排行榜</h1>
        <div id="budget-display">剩余投票数: <span id="remaining-budget"></span></div>

        <!-- 列表视图，适用于移动设备 -->
        <div class="list-container" id="modelList"></div>

        <!-- 表格视图，适用于桌面设备 -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th data-sort="rank">排名</th>
                        <th data-sort="name">名称</th>
                        <th data-sort="platform">平台</th>
                        <th data-sort="country">国家</th>
                        <th data-sort="understandingScore">语言理解评分</th>
                        <th data-sort="knowledgeScore">知识储备评分</th>
                        <th data-sort="problemsolvingScore">问题解决评分</th>
                        <th data-sort="totalScore">总分</th>
                        <th>描述</th>
                    </tr>
                </thead>
                <tbody id="model-table-body">
                    <!-- Table body content will be dynamically generated by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Add new model form -->
        <div class="upload-form" id="uploadForm">
            <!-- Form content remains the same -->
        </div>

        <!-- Delete model form -->
        <div class="delete-form" id="deleteForm">
            <!-- Form content remains the same -->
        </div>
    </div>

    <script>
        function renderTable(data) {
            const tableBody = document.getElementById('model-table-body');
            tableBody.innerHTML = data.map((model, index) => {
                model.totalScore = model.understandingScore + model.knowledgeScore + model.problemsolvingScore;
                return `
                <tr>
                    <td>${index + 1}</td>
                    <td>${model.name}</td>
                    <td>${model.platform}</td>
                    <td>${model.country}</td>
                    <td>${model.understandingScore}
                        <button onclick="updateScore(${index}, 'understandingScore', true)" ${remainingBudget <= 0 ? 'disabled' : ''}>+1</button>
                        <button onclick="updateScore(${index}, 'understandingScore', false)" ${remainingBudget <= 0 ? 'disabled' : ''}>-1</button>
                    </td>
                    <td>${model.knowledgeScore}
                        <button onclick="updateScore(${index}, 'knowledgeScore', true)" ${remainingBudget <= 0 ? 'disabled' : ''}>+1</button>
                        <button onclick="updateScore(${index}, 'knowledgeScore', false)" ${remainingBudget <= 0 ? 'disabled' : ''}>-1</button>
                    </td>
                    <td>${model.problemsolvingScore}
                        <button onclick="updateScore(${index}, 'problemsolvingScore', true)" ${remainingBudget <= 0 ? 'disabled' : ''}>+1</button>
                        <button onclick="updateScore(${index}, 'problemsolvingScore', false)" ${remainingBudget <= 0 ? 'disabled' : ''}>-1</button>
                    </td>
                    <td>${model.totalScore}</td>
                    <td>${model.description}</td>
                </tr>
                `;
            }).join('');
        }

        // Call renderTable when the page loads
        window.onload = function() {
            renderTable(models);
        };
    </script>

        <!-- Add new model form -->
        <!-- Add new model form -->
        <div class="upload-form" id="uploadForm">
            <h3>Add New Model</h3>
            <form id="newModelForm">
                <input type="text" id="newName" placeholder="Name" value="New Model" required><br>
                <input type="text" id="newPlatform" placeholder="Platform" value="Unknown" required><br>
                <input type="text" id="newCountry" placeholder="Country" value="China" required><br>
                <input type="number" id="newUnderstandingScore" placeholder="Understanding Score" value="80" min="0" max="100" required><br>
                <input type="number" id="newKnowledgeScore" placeholder="Knowledge Score" value="80" min="0" max="100" required><br>
                <input type="number" id="newProblemsolvingScore" placeholder="Problemsolving Score" value="80" min="0" max="100" required><br>
                
                <button type="submit">Add</button>
                <button type="button" onclick="toggleForm('uploadForm')">Cancel</button>
            </form>
        </div>

        <!-- Delete model form -->
        <div class="delete-form" id="deleteForm">
            <h3>Delete Model</h3>
            <form id="deleteModelForm">
                <input type="url" id="deleteVideoLink" placeholder="Input the video link to delete" pattern="https?://.+" title="Please input a valid URL (starting with http:// or https://)" required size="50"><br>
                <button type="submit">Delete</button>
                <button type="button" onclick="toggleForm('deleteForm')">Cancel</button>
            </form>
        </div>

    <script>
        let models = [
        {
            name: "豆包",
            platform: "字节跳动",
            country: "中国",
            understandingScore: 80, // 假设的语言理解评分
            knowledgeScore: 80, // 假设的知识储备评分
            problemsolvingScore: 80, // 假设的问题解决评分
            description: "豆包是字节跳动基于云雀模型开发的AI，能提供多样化的服务，如聊天机器人，可陪用户畅聊各种话题；作为写作助手，能辅助创作各类文章、文案；还能担当英语学习助手，助力用户提升英语水平。广泛应用于日常交流、内容创作及学习场景。"
        },
        {
            name: "GPT - 4",
            platform: "OpenAI",
            country: "美国",
            understandingScore: 95, // 假设评分
            knowledgeScore: 95, // 假设评分
            problemsolvingScore: 95, // 假设评分
            description: "GPT - 4是OpenAI研发的一款功能强大的自然语言处理模型。它拥有极其广泛的知识储备，涵盖科学、历史、文化等各个领域，在复杂问题解决方面表现卓越。常用于专业写作、智能客服、代码生成以及复杂数据分析等场景，为用户提供高质量的语言处理服务。"
        },
        {
            name: "文心一言",
            platform: "百度",
            country: "中国",
            understandingScore: 88, // 假设评分
            knowledgeScore: 85, // 假设评分
            problemsolvingScore: 87, // 假设评分
            description: "文心一言是百度推出的生成式对话产品，具备跨模态、跨语言的深度语义理解与生成能力。不仅能生成高质量的文本内容，如故事、诗歌、报告等，还可在图像生成、智能问答等方面发挥作用，为用户提供全方位的智能交互体验，广泛应用于创意写作、智能搜索及智能助手等领域。"
        },
        {
            name: "LLaMA",
            platform: "Meta",
            country: "美国",
            understandingScore: 90, // 假设评分
            knowledgeScore: 89, // 假设评分
            problemsolvingScore: 91, // 假设评分
            description: "LLaMA是Meta推出的超大规模语言模型，具备强大的自然语言处理能力。其优势在于模型轻量化，适合在多种硬件环境下运行。常用于学术研究、自然语言处理算法优化以及一些对模型部署成本有要求的应用场景，能够为开发者提供灵活的模型选择。"
        },
        {
            name: "ERNIE Bot",
            platform: "百度",
            country: "中国",
            understandingScore: 92, // 假设评分
            knowledgeScore: 93, // 假设评分
            problemsolvingScore: 92, // 假设评分
            description: "ERNIE Bot是百度文心大模型技术的升级版，在语言理解和生成能力上更上一层楼。它通过持续学习海量数据，对语义的理解更加精准，生成的文本更加自然流畅。适用于智能写作、智能客服、智能翻译等多种场景，尤其在需要深度理解和准确生成文本的任务中表现出色。"
        },
        {
            name: "通义千问",
            platform: "阿里巴巴",
            country: "中国",
            understandingScore: 90, // 假设评分
            knowledgeScore: 90, // 假设评分
            problemsolvingScore: 92, // 假设评分
            description: "通义千问是阿里云推出的超大规模语言模型，具备多模态理解和多语言支持能力。除了文本生成、问答等基础功能外，还能处理图像、音频等多模态信息。在电商领域，可助力商品描述生成、智能客服等；在跨语言交流场景中，能实现高效准确的翻译。"
        },
        {
            name: "混元大模型",
            platform: "腾讯",
            country: "中国",
            understandingScore: 88, // 假设评分
            knowledgeScore: 88, // 假设评分
            problemsolvingScore: 89, // 假设评分
            description: "混元大模型是腾讯推出的超大规模预训练语言模型，具有强大的自然语言理解和生成能力。在社交场景中，它能够生成符合语境的高质量对话内容，提升用户沟通体验；在内容创作方面，可为媒体、广告等行业提供创意灵感和文本生成支持。"
        },
        {
            name: "天工AI",
            platform: "未知（多家企业或机构合作）",
            country: "中国",
            understandingScore: 85, // 假设评分
            knowledgeScore: 87, // 假设评分
            problemsolvingScore: 86, // 假设评分
            description: "天工AI是基于强化学习开发的AI大模型，具有自我学习和优化能力。随着与用户的交互，它能够不断调整策略，提升服务质量。在智能客服、智能教育等领域应用广泛，通过持续学习用户反馈，为用户提供更贴合需求的服务。"
        },
        {
            name: "讯飞星火",
            platform: "科大讯飞",
            country: "中国",
            understandingScore: 87, // 假设评分
            knowledgeScore: 89, // 假设评分
            problemsolvingScore: 88, // 假设评分
            description: "讯飞星火是科大讯飞推出的AI大模型，在语音识别和语音合成领域表现突出。凭借先进的语音技术，它能实现高精度的语音转文字以及自然流畅的文字转语音功能。广泛应用于智能语音助手、有声读物制作、语音交互设备等场景，为用户带来便捷的语音交互体验。"
        },
        {
            name: "秘塔",
            platform: "未知（企业或研究机构）",
            country: "中国",
            understandingScore: 83, // 假设评分
            knowledgeScore: 84, // 假设评分
            problemsolvingScore: 85, // 假设评分
            description: "秘塔是一款在保护用户隐私方面表现出色的AI大模型，擅长处理敏感数据。采用先进的隐私保护技术，确保用户数据在使用过程中的安全性和保密性。常用于金融、医疗等对数据隐私要求极高的行业，为用户提供安全可靠的数据处理服务。"
        },
        {
            name: "腾讯元宝",
            platform: "腾讯",
            country: "中国",
            understandingScore: 86, // 假设评分
            knowledgeScore: 85, // 假设评分
            problemsolvingScore: 87, // 假设评分
            description: "腾讯元宝在游戏AI领域独具特色，通过深入理解游戏机制和用户需求，能够设计出富有创意和吸引力的游戏玩法。为游戏开发者提供强大的AI支持，助力打造更具趣味性和挑战性的游戏体验，广泛应用于各类游戏开发项目中。"
        },
        {
            name: "Kimi模型",
            platform: "未知（企业或研究机构）",
            country: "中国",
            understandingScore: 88, // 假设评分
            knowledgeScore: 86, // 假设评分
            problemsolvingScore: 87, // 假设评分
            description: "Kimi模型在自然语言处理领域表现出色，尤其擅长情感分析和文本分类任务。它能够准确识别文本中的情感倾向，如积极、消极或中性，并对文本进行细致分类。在舆情监测、市场调研等场景中具有重要应用价值，帮助用户快速了解文本背后的情感信息和类别特征。"
        },
        {
            name: "智谱清言",
            platform: "未知（企业或研究机构）",
            country: "中国",
            understandingScore: 89, // 假设评分
            knowledgeScore: 88, // 假设评分
            problemsolvingScore: 89, // 假设评分
            description: "智谱清言是以强大的语言生成能力著称的AI大模型，擅长对话系统和内容创作。无论是构建智能聊天机器人，还是生成高质量的文章、故事等内容，都能表现出色。在智能客服、内容营销等领域应用广泛，为用户提供富有创意和逻辑的语言输出。"
        },
        {
            name: "HomeGPT",
            platform: "海尔三翼鸟",
            country: "中国",
            understandingScore: 86, // 假设评分
            knowledgeScore: 87, // 假设评分
            problemsolvingScore: 88, // 假设评分
            description: "HomeGPT是智慧家庭领域的大模型，专注于理解用户家庭生活中的各种需求。它可以与智能家居设备联动，实现语音控制家电、智能场景设置等功能，为用户打造便捷、舒适的智慧家居生活。适用于各类智能家居生态系统，让家庭生活更加智能化。"
        },
        {
            name: "LaVIT",
            platform: "快手",
            country: "中国",
            understandingScore: 88, // 假设评分
            knowledgeScore: 89, // 假设评分
            problemsolvingScore: 87, // 假设评分
            description: "LaVIT是快手推出的多模态大模型，通过将图像和文本统一到同一个语义空间中，能够更好地理解和处理多模态数据。在短视频创作领域，它可以根据用户提供的文本描述生成相关的图像素材，或者对视频内容进行智能分析和标注。为创作者提供更多创意工具，提升短视频创作的效率和质量。"
        },
        {
            name: "快意大模型",
            platform: "快手",
            country: "中国",
            understandingScore: 87, // 假设评分
            knowledgeScore: 86, // 假设评分
            problemsolvingScore: 88, // 假设评分
            description: "快意大模型拥有多个不同规模的版本，以适应不同的应用场景和硬件条件。在中文场景下表现优异，针对中文语言特点和文化背景进行了优化。在中文内容创作、智能客服等以中文为主的业务中，能够提供高效、准确的服务，满足用户多样化的需求。"
        }

        ];

        let remainingBudget = window.voteBudget;
        let filteredModels = [];
        
        function toggleForm(formId) {
            const form = document.getElementById(formId);
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function isValidUrl(url) {
            try {
                new URL(url);
                return true;
            } catch (e) {
                return false;
            }
        }

        // Modify the newTechnician object creation in the form submission handler
        document.getElementById('newModelForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // ... previous code remains the same

            const newTechnician = {
                name: document.getElementById('newName').value,
                platform: document.getElementById('newPlatform').value,
                country: "中国", // Add country field with default value
                understandingScore: parseInt(document.getElementById('newBeautyScore').value), // Rename beautyScore to understandingScore
                knowledgeScore: parseInt(document.getElementById('newBodyScore').value), // Rename bodyScore to knowledgeScore
                problemsolvingScore: parseInt(document.getElementById('newSkillScore').value), // Rename skillScore to problemsolvingScore
                description: "" // Add description field with default value
            };

            // ... rest of the code remains the same
        });

        // ... rest of the code remains the same

        // Modify the model object creation in the initData function
        async function initData() {
            setTimeout(() => {
                filteredModels = window.platformFilter
                    ? models.filter(t => t.platform.trim().toLowerCase() === window.platformFilter.toLowerCase())
                    : models;

                filteredModels.forEach(model => {
                    model.totalScore = model.understandingScore + model.knowledgeScore + model.problemsolvingScore;
                });

                filteredModels.sort((a, b) => b.totalScore - a.totalScore);

                filteredModels.forEach((model, index) => {
                    model.rank = index + 1;
                });

                updateBudgetDisplay();
                if (window.innerWidth <= 600) {
                    renderList(filteredModels);
                } else {
                    renderTable(filteredModels);
                }
            }, 1000);
        }

        // ... rest of the code remains the same

        // Delete form submission handler
        document.getElementById('deleteModelForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const videoLink = document.getElementById('deleteVideoLink').value;

            if (!isValidUrl(videoLink)) {
                alert('请输入有效的视频链接URL');
                return;
            }

            const modelIndex = models.findIndex(tech => tech.videoLink === videoLink);
            if (modelIndex === -1) {
                alert('未找到该视频链接对应的美女');
                return;
            }

            models.splice(modelIndex, 1);
            updateKeyValueStore("webview11.data", JSON.stringify(models));
            setTimeout(() => {
                initData();
            }, 1000);
            this.reset();
            toggleForm('deleteForm');
        });

        async function initData() {
            setTimeout(() => {
       
                readKeyValueStore("webview11.data", (storedData) => {
                    if (storedData) {
                        models = JSON.parse(storedData);
                    }
                    
                    filteredModels = window.platformFilter 
                        ? models.filter(t => t.platform.trim().toLowerCase() === window.platformFilter.toLowerCase())
                        : models;

                    filteredModels.forEach(model => {
                        model.totalScore = model.beautyScore + model.bodyScore + model.skillScore;
                    });

                    filteredModels.sort((a, b) => b.totalScore - a.totalScore);
            
                    filteredModels.forEach((model, index) => {
                        model.rank = index + 1;
                    });

                    updateBudgetDisplay();
                    if (window.innerWidth <= 600) {
                        renderList(filteredModels);
                    } else {
                        renderTable(filteredModels);
                    }
                });
           
            }, 1000);
        }
        
        function updateBudgetDisplay() {
            document.getElementById('remaining-budget').textContent = remainingBudget;
        }

        function updateScore(modelIndex, scoreType, increment) {
            if (remainingBudget <= 0) return;
            
            remainingBudget--;
            if (increment) {
                filteredModels[modelIndex][scoreType]++;
            } else {
                filteredModels[modelIndex][scoreType]--;
            }
            
            filteredModels[modelIndex].totalScore = 
                filteredModels[modelIndex].beautyScore + 
                filteredModels[modelIndex].bodyScore + 
                filteredModels[modelIndex].skillScore;
            
            filteredModels.sort((a, b) => b.totalScore - a.totalScore);
            filteredModels.forEach((tech, index) => {
                tech.rank = index + 1;
            });
            
            updateKeyValueStore("webview11.data", JSON.stringify(models));
            initData();
        }


        const renderList = (data) => {
            modelList.innerHTML = '';
            data.forEach(model => {
                const div = document.createElement('div');
                div.style.padding = '10px';
                div.style.borderBottom = '1px solid #ddd';
                model.totalScore = model.understandingScore + model.knowledgeScore + model.problemsolvingScore;
                div.innerHTML = `

                    <h2>${model.rank}. ${model.name}</h2>
                    <p>平台：${model.platform} | 国家：${model.country}</p>
                    <p>${model.description}</p>
                    <p>理解分数：${model.understandingScore}</p>
                    <p>知识分数：${model.knowledgeScore}</p>
                    <p>问题解决分数：${model.problemsolvingScore}</p>
                    <p>总分：${model.totalScore}</p>
                    <a href="${model.videoLink}" target="_blank">查看视频</a>
                `;
                modelList.appendChild(div);
            });
        };

        

        // 表格排序功能
        document.querySelectorAll('th').forEach(header => {
            header.addEventListener('click', () => {
                const sortKey = header.getAttribute('data-sort');
                const isAscending = header.classList.contains('ascending');
                filteredModels.sort((a, b) => {
                    if (a[sortKey] < b[sortKey]) return isAscending ? -1 : 1;
                    if (a[sortKey] > b[sortKey]) return isAscending ? 1 : -1;
                    return 0;
                });
                header.classList.toggle('ascending');
                header.classList.toggle('descending');
                renderTable(filteredModels);
            });
        });

        // 监听窗口大小变化，动态切换视图
        window.addEventListener('resize', () => {
            if (window.innerWidth <= 600) {
                modelList.style.display = 'block';
                tableBody.style.display = 'none';
                renderList(filteredModels);
            } else {
                modelList.style.display = 'none';
                tableBody.style.display = 'block';
                renderTable(filteredModels);
            }
        });

        // Initialize data when page loads
        initData();
    </script>
</body>
</html>
